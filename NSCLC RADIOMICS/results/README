# ğŸ“Š NSCLC Classification Results

This directory contains the **evaluation results** of the machine learning pipeline developed for the project:

> ğŸ©º *"Development of ML model for non-small cell lung cancer detection"*  
> MSc Thesis â€“ Bioinformatics & Neuroinformatics, Ionian University

---

## ğŸ§  Experiment Setup

- **Dataset:** Radiomic features from segmented lung nodules (N â‰ˆ 471)  
- **Classes:** Benign, Adenocarcinoma, Squamous cell carcinoma, Large cell carcinoma  
- **Cross-validation:** Stratified 4-fold  
- **Hyperparameter tuning:** GridSearchCV  
- **Metrics:** Weighted F1-score, Accuracy, Precision, Recall

---

## ğŸ“ˆ Results Summary

| Feature Selection | Classifier | F1-score | Accuracy | Precision | Recall |
|-------------------|------------|----------|----------|-----------|--------|
| CorrSF        | Random Forest            | 0.5813 | 0.6815 | 0.5951 | 0.6815 |
| CorrSF        | Logistic Regression (L1) | 0.5001 | 0.4566 | 0.6152 | 0.4566 |
| CorrSF        | SVM (RBF)                | 0.5554 | 0.5499 | 0.5643 | 0.5499 |
| Boruta        | Random Forest            | 0.5796 | 0.6560 | 0.5563 | 0.6560 |
| Boruta        | Logistic Regression (L1) | 0.4027 | 0.3441 | 0.5907 | 0.3441 |
| Boruta        | SVM (RBF)                | 0.4721 | 0.4310 | 0.5573 | 0.4310 |
| RFE-SVM       | Random Forest            | 0.5794 | **0.6858** | 0.5838 | **0.6858** |
| RFE-SVM       | Logistic Regression (L1) | 0.5633 | 0.5309 | 0.6285 | 0.5309 |
| RFE-SVM       | SVM (RBF)                | 0.5761 | 0.5710 | 0.5826 | 0.5710 |
| L1-LASSO      | Random Forest            | 0.5801 | 0.6794 | 0.5915 | 0.6794 |
| L1-LASSO      | Logistic Regression (L1) | 0.5644 | 0.5372 | 0.6196 | 0.5372 |
| L1-LASSO      | SVM (RBF)                | **0.5950** | 0.6008 | 0.5908 | 0.6008 |
| RF-imp        | Random Forest            | 0.5795 | 0.6773 | 0.5541 | 0.6773 |
| RF-imp        | Logistic Regression (L1) | 0.4909 | 0.4522 | 0.5726 | 0.4522 |
| RF-imp        | SVM (RBF)                | 0.5610 | 0.5520 | 0.5766 | 0.5520 |

ğŸ“ Full results: [`ml_results.csv`](./ml_results.csv)

---

## ğŸ“Š Visualization

F1-score comparison across feature selection methods and classifiers:

![F1-score comparison](./ml_results.png)

---

## ğŸ§ª Key Takeaways

- **Best model:** `L1-LASSO + SVM (RBF)` â†’ **F1 â‰ˆ 0.595**, **Accuracy â‰ˆ 0.601**  
- **Highest accuracy:** `RFE-SVM + Random Forest` â†’ **Accuracy â‰ˆ 0.686**  
- **Random Forest** shows stable performance across methods (~0.67â€“0.68 Accuracy).  
- **Logistic Regression (L1)** trades accuracy for higher **Precision**, suitable when false positives must be minimized.  
- **Boruta** underperforms compared to simpler filter-based methods like CorrSF.

---

## ğŸ“Š Î£Ï…Î½Î¿ÏˆÎ® Î‘Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î¬Ï„Ï‰Î½

Î— Î±Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ· Ï„Î¿Ï… pipeline Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ·Ï‚ NSCLC Î­Î´ÎµÎ¹Î¾Îµ ÏŒÏ„Î¹ Ï„Î± Î¼Î¿Î½Ï„Î­Î»Î± Î¼Î·Ï‡Î±Î½Î¹ÎºÎ®Ï‚ Î¼Î¬Î¸Î·ÏƒÎ·Ï‚ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î¼Î¬Î¸Î¿Ï…Î½ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÎ¬ Î±Ï€ÏŒ ÏÎ±Î´Î¹Î¿Î¼Î¹ÎºÎ¬ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÎºÎ±Î¹ Î½Î± Î´Î¹Î±ÎºÏÎ¯Î½Î¿Ï…Î½ Ï„Î¿Ï…Ï‚ Ï…Ï€Î¿Ï„ÏÏ€Î¿Ï…Ï‚ Ï„Î¿Ï… ÎºÎ±ÏÎºÎ¯Î½Î¿Ï… Î¼Îµ Î¹ÎºÎ±Î½Î¿Ï€Î¿Î¹Î·Ï„Î¹ÎºÎ® Î±ÎºÏÎ¯Î²ÎµÎ¹Î±.

ğŸ” **ÎšÏÏÎ¹Î± ÏƒÎ·Î¼ÎµÎ¯Î±:**

- ÎŸÎ¹ Ï„Î¹Î¼Î­Ï‚ **F1-score** ÎºÏ…Î¼Î±Î¯Î½Î¿Î½Ï„Î±Î¹ Î±Ï€ÏŒ ~0.40 Î­Ï‰Ï‚ **0.595**, ÎµÎ½Ï Î· **Accuracy** Î±Ï€ÏŒ ~0.34 Î­Ï‰Ï‚ **0.686**.  
- ÎŸ ÎºÎ±Î»ÏÏ„ÎµÏÎ¿Ï‚ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ¬ ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚ Î®Ï„Î±Î½:  
  - **L1-LASSO + SVM (RBF)** â†’ **F1 â‰ˆ 0.595**, **Accuracy â‰ˆ 0.601**  
- Î— Ï…ÏˆÎ·Î»ÏŒÏ„ÎµÏÎ· Î±ÎºÏÎ¯Î²ÎµÎ¹Î± ÎµÏ€Î¹Ï„ÎµÏÏ‡Î¸Î·ÎºÎµ Î¼Îµ:  
  - **RFE-SVM + Random Forest** â†’ **Accuracy â‰ˆ 0.686**  
- ÎŸ **Random Forest** Ï€Î±ÏÎ¿Ï…ÏƒÎ¯Î±ÏƒÎµ ÏƒÏ„Î±Î¸ÎµÏÎ® Î±Ï€ÏŒÎ´Î¿ÏƒÎ· (~0.67â€“0.68 Accuracy).  
- Î— **Logistic Regression (L1)** ÎµÎ¯Ï‡Îµ Î¼Î¹ÎºÏÏŒÏ„ÎµÏÎ· Î±ÎºÏÎ¯Î²ÎµÎ¹Î± Î±Î»Î»Î¬ Ï…ÏˆÎ·Î»ÏŒÏ„ÎµÏÎ· **Precision**, Ï‡ÏÎ®ÏƒÎ¹Î¼Î· ÏƒÎµ Ï€ÎµÏÎ¹Ï€Ï„ÏÏƒÎµÎ¹Ï‚ ÏŒÏ€Î¿Ï… ÎµÎ¯Î½Î±Î¹ ÎºÏÎ¯ÏƒÎ¹Î¼Î· Î· Î¼ÎµÎ¯Ï‰ÏƒÎ· ÏˆÎµÏ…Î´ÏÏ‚ Î¸ÎµÏ„Î¹ÎºÏÎ½.  
- Î— **Boruta** Î´ÎµÎ½ Ï…Ï€ÎµÏÎµÎ¯Ï‡Îµ, Î´ÎµÎ¯Ï‡Î½Î¿Î½Ï„Î±Ï‚ ÏŒÏ„Î¹ Î±Ï€Î»Î¿ÏÏƒÏ„ÎµÏÎµÏ‚ Î¼Î­Î¸Î¿Î´Î¿Î¹ (Ï€.Ï‡. CorrSF) Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯Î½Î±Î¹ Ï€Î¹Î¿ Î±Ï€Î¿Ï„ÎµÎ»ÎµÏƒÎ¼Î±Ï„Î¹ÎºÎ­Ï‚.

ğŸ“ˆ **Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±:**  
Î¤Î¿ pipeline ÎµÏ€Î¹Ï„Ï…Î³Ï‡Î¬Î½ÎµÎ¹ Î±Î¾Î¹ÏŒÏ€Î¹ÏƒÏ„Î· Ï„Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ· Ï„Ï‰Î½ Ï…Ï€Î¿Ï„ÏÏ€Ï‰Î½ NSCLC Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÏÎ½Ï„Î±Ï‚ Î±Ï€Î¿ÎºÎ»ÎµÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÏÎ±Î´Î¹Î¿Î¼Î¹ÎºÎ¬ Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ Î±Ï€ÏŒ Î±Î¾Î¿Î½Î¹ÎºÎ­Ï‚ Ï„Î¿Î¼Î¿Î³ÏÎ±Ï†Î¯ÎµÏ‚. Î Î±ÏÏŒÏ„Î¹ Î¿Î¹ ÎµÏ€Î¹Î´ÏŒÏƒÎµÎ¹Ï‚ ÎµÎ¯Î½Î±Î¹ Î¼ÎµÏƒÎ±Î¯ÎµÏ‚, Î±Ï€Î¿Ï„ÎµÎ»Î¿ÏÎ½ Î¼Î¹Î± **Î¹ÏƒÏ‡Ï…ÏÎ® Î²Î¬ÏƒÎ· Î³Î¹Î± Ï€ÎµÏÎ±Î¹Ï„Î­ÏÏ‰ Î²ÎµÎ»Ï„Î¯Ï‰ÏƒÎ·** Î¼Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Î´ÎµÎ´Î¿Î¼Î­Î½Î±, ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼ÏŒ Î¼Îµ Î¹ÏƒÏ„Î¿Ï€Î±Î¸Î¿Î»Î¿Î³Î¹ÎºÎ­Ï‚ Ï€Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚ ÎºÎ±Î¹ ÎµÎ½ÏƒÏ‰Î¼Î¬Ï„Ï‰ÏƒÎ· Ï„ÎµÏ‡Î½Î¹ÎºÏÎ½ ÎµÏÎ¼Î·Î½ÎµÏ…ÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±Ï‚ ÏŒÏ€Ï‰Ï‚ **SHAP** ÎºÎ±Î¹ **LIME**.

---

## ğŸ“ Files

| File | Description |
|------|------------|
| `ml_results.csv` | Full metrics table |
| `ml_results.png` | F1-score visualization |
| `selected_features_*.csv` | Selected feature lists |

---

ğŸ“„ *Part of the MSc thesis project by **Evita Marini** â€“ Ionian University MSc Program in Bioinformatics and Neuroinformatics.*
